CRITICAL (BUGS):
* There some data errors in the lfunctions: (Edgar)
  - rational L-functions with id in [19435656, 22735454], the Lhash string is not sorted
  - high weight rational L-functions are missing the euler factors ( id in [22735455, 22778226]) (They are currently hidden)
  - Add missing L-functions for newform 540.6.i.b (currently http://cmfs.lmfdb.xyz/L/ModularForm/GL2/Q/holomorphic/540/6/i/b/181/1/ is broken).

IMPORTANT:
* Add L-functions for 10 < N <= 24, 4000 < Nk^2 <= 40000 once apdata is available (Drew, Edgar).
* need to resort mf_hecke_cc, as it doesn't satisfy locality with respect to embedding_m
* Write and run validation procedure to verify modular form data after it has been uploaded to postgres.  Figure out how to incorporate this into our long term workflow. (Drew)
* Once the RCS knowls are written, adjust the wording at the top of the statistics page to make it clearer what is included in the stats and include explicit links to completeness and rigor knowls. (David)
* Add notes on provability/completeness to Artin image knowl (Drew)
* Add related objects to L-functions, move duals (Edgar)
* Make old L-function labels work (Edgar/David)
* Draft a new features e-mail (analytic and arithmetic), identify new features propograting to the rest of the LMFDB (David)
* Draft pull request submission text: allows us to close BLAH issues, new labeling convention but old labels will still work, complete transition to postgres, db_backend changes (David)
* Add relative dimension selector on newspace page (David)
* Prove all analytic ranks
* Update mf.elliptic.hecke-operator knowl and delete group.gammann
* Fix the axes on the plot to refer to analytic conductor http://cmfs.lmfdb.xyz/L/degree2/CuspForm/ which is now vastly smaller than Nk^2?!
* Add weight 1 L-functions to the plot http://cmfs.lmfdb.xyz/L/degree2/CuspForm/ ? This probably requires adjusting the axes.
* Remove decimal point if no number follows in series expansions etc., e.g. find 300.i in http://cmfs.lmfdb.xyz/L/ModularForm/GL2/Q/holomorphic/7/5/d/a/5/1/
* Update the text at the top of the plot page http://cmfs.lmfdb.xyz/L/degree2/CuspForm/, not only trivial character now.

FINAL CHECKS:
* Make sure indexes are appropriate, especially for new sort orders, index on id (Edgar)
* Update RCS knowls to match final data set (Drew)

-------------------------- Pull Request Line -------------------------------------------------
* Add trace forms and portraits for all newspaces and gamma1 of wt k > 1 and Nk^2 <= 40000 -- currently we have everything for N <= 4000 (including wt 1) and Nk^2 <= 40000 (Drew).
* Add trace tables for newspaces (David)
* code snippets for form and space pages in Sage and Pari.
* Lift projective reps for weight one forms to artin reps whereever possible (Drew)
* add L-functions instances for Artin rep (Edgar)
* Speed up Dirichlet character search (currently doing a ton of lookup and lucky calls rather than using search() (David LD)
* Compute completions at global fields (primes dividing level), compute decomposition groups, p-adic embeddings (David)
* Add completeness table and metadata in order to make claims about provability
* Reduce clutter in the url: count, start, hidden_search_type (David)
* Prevent all=1 in cleanSubmit when no arguments from browse page.
* q-expansion bigint knowls display off screen with 100 coefficients (http://cmfs.lmfdb.xyz/ModularForm/GL2/Q/holomorphic/2/218/a/b/)
* Add related objects from Artin representations back to weight 1 forms
* Remove Future Plans page and port everything to github

CRITICAL DB:
* on a delete, if restat fails on a delete command it still commits the delete command

KNOWL FEATURES: (March)
* Revision history and reversion (all versions stored in kwl_knowls table)
* Multiple versions for beta and prod (needs a review status column)
* Status column (smallint): reviewed, beta, deleted
* Renaming: change the id on every knowl (no history)
* jsonb row with links to other knowls
* search with wildcards
* View all knowls: SELECT DISTINCT ON id FROM kwl_knowls WHERE status != 'deleted' ORDER BY timestamp DESC
* Edit locks (prevent editing if locked, get own locks): new table with (id, timestamp, username)
* Label as annotation (column: boolean? or type?) automatically mark as such if navigated from a top knowl link (use .top and .bottom convention)
* Link back to object from annotations (another field which is a link back to object)
* Viewable diffs (on the fly)
* Do we care about porting data from kwl_history table? No.
* Add column to user table giving power to review knowls
* Comments: anyone can leave a comment.  Anyone can search for knowls with comments.
* Add reviewer column to knowl table; update edit interface.  Do we want reviewing to create a new copy of the knowl, or edit most recent copy?  If second, should have a review timestamp.
* Use KNOWL_INC more....
* Preserve author history

COLLABORATION SUGGESTIONS:
* Forms that have no zeros except at the cusps

GOOD:
* Create links to dynamics stats from each entry in the currated stats
* figure out the sort order for lfunc_lfunctions
* merge L-function data of G2C, EC, ECNF with CMF using trace_hash
* knowls: mf.elliptic.hecke_order, mf.elliptic.embedding_label
* knowls: make sure top and bottom knowls, explicit formulas are ported over
* knowl: add remark to sturm_bound knowl for why our sturm bound is off by 1 from Sage (floor vs ceiling)

IT WOULD BE NICE IF:
* search on character degree?
* it would be nice if, if hecke field is cyclotomic don't use \zeta_3
* show AL dimensions for old forms as well as new
* LMFDB-wide: download link to get all data being used to generate page (see Download All Stored Data on elliptic curves)
* LMFDB-wide: equal signs consistent in terms of math-mode or not
* LMFDB-wide: change sort order in search results
* knowls: more
* form pages: if Hecke ring is a power basis, order the generators by the powers and pretty print the q-expansion
* identify (if possible?) a more precise description of the twisting characters
* data: download data from old version and compare to see matches (at least with traces) and identify other problems
* form pages: download to Sage/Magma/pari (using cutters)
* What about putting in "nice latex" for q-exp when available, e.g. if beta_i = nu^i and nu has a nice rep (like sqrt{N} or zeta_n)?
* form pages: provide downloads of q-expansions for Magma/pari
* Saved queries for demos (cf checklist)
* Inner twist group structures

FUTURE WORK:
* data: for spaces where we do not compute an algebraic q-expansion, still give the first few Hecke polynomials
* data: compute much more using pari
* Review editorial review of CMFs to make sure issues have been addressed
* data: add trace hash for ECNF L-fun
* data: make friends with base changes of HMFs and BMFs
* Add more data, in particular for weight 2 and trivial character
* data: add data for is_twist_minimal
* Improve modular form plots, consider plotting images using arb

NOT CMF STUFF:
* on lucky on unique id, drop the sort
* convert other columns to arrays, as GIN indexes for jsonb only supports containment, try: db.nf_fields.analyze({'ramps':{'$contains':[2,3]}}) vs db.nf_fields.analyze({'ramps':[2,3]}) vs db.nf_fields.analyze({'ramps':{'$in':[2,3]}})
* copy_from and update_many see: https://stackoverflow.com/questions/8910494/how-to-update-selected-rows-with-values-from-a-csv-file-in-postgres
* have the call method on a table to do just a search
* max_id should be used instead of self.stats.total + 1 on upsert, insert_many, etc
* reset start with javascript
* generalize search_types
* hidden != search clean hidden
* add utf8 check to pyflakes
* pick columns and sort order on search results
* add UIs to pick random objects with contraints
* bread for maass forms looks dumb http://127.0.0.1:37777/L/ModularForm/GSp4/Q/Maass/1/1/12.46875_4.720951/1.34260324/#footer
* http://127.0.0.1:37777/L/ModularForm/GSp4/Q/Maass/1/1/12.46875_4.720951/1.34260324/#footer should explain why it is the grand canyon l-function, there is a knowl for this but after some renaming of maass forms it doesn't show on the page!
* fix hmf and bmf l-functions
* Shrink the sidebar with a button analogous to the properties shrinker
* Related fields for dirichlet characters that are Kronecker symbols
* Change color of input/select elements if they're actively constraining a search (easy to forget that you've constrained something)
* col_type is cached, add to FAQ
* Work on spacing between coefficients and variables in web_latex_poly: lmfdb/utils.py
* avoid access exclusive lock with the alter table when using copy from
* checklist is broken
* Add validate_header function for copy_from, reload, etc (David)
* Add replace_from, copy_to+copy_from (with sort order) function to db_backend (David)
* In debug_info.html, queries with dollar signs aren't escaped, and katex tries to parse them.
* No longer support changing count from refine search elsewhere in LMFDB (it screws up Prev and Next)
* Move data from US Central to US East Coast
* It would be good to have an explanation of the connections in the "related objects" links when possible

TO THINK ABOUT:
* Are there good reasons for why traces are often zero for many small primes (e.g. 60.2.j)

ISSUES todo:
Ask David Farmer if he wants to reopen #59

ISSUES already addressed:
- Weight 1 cusp forms #437
- L-functions for modular forms should be in database #439
- Data quality for classical modular forms #460
- Dual L-function #617
- Make user adjust Fourier coefficient embeddings #653
- Make pretty coefficients #654
- Create separate page for each embedding of a newform #659
- Table options for old/new/CM #674
- Determine planned extent of classical modular forms #873
- Source and extent of data for classical modular forms #1224
- For imprimitive genus 2 L-functions, give links to factors #1227
- Fix errors in classical modular form data and verify its correctness #1248
- Tests for lcalc files #1257
- Modular form history #1282 (we decided not to link it)
- Search by analytic rank #1362
- Plots of modular forms #1408
- Random modular form #1434
- Product L-functions for modular forms #1443
- Sever error on classical modular form pages #1533
- Resource intensive L-function zeros pages for classical modular forms #1680
- Classical modular forms Gamma1(49) weight 3 #1991
- Add Bober's modular form data #2196
- no data for level = 100, k 7, chi = 99 #2340
- Request for documentation on modular form web pages #2630
- Hecke operators, cosets in subset not subgroup #2631
- Debounce knowl clicking #2687 (this is a PR, that we closed)

Some progress on:
- David Platt's L-function zeros #557 (this issue is a bit too vague to understand when is going to be closed)
- L-functions and modularity #2032
- Search on a_pp #2134
- Galois conjugate objects: Hilbert, Bianchi, EC #2262
- Display the L-function factors #2269

