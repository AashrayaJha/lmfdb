CRITICAL (BUGS):
* Server error on 1364.1.h.a, n=2-1000
* Type in an invalid conrey label into Embedding box gives server error
* Server error for embedded label in url

OUTSTANDING VERIFICATIONS:
+ Some newspaces that are in boxes with straces set don't have trace_bound, num_forms, hecke_orbit_dims set
  - 101.7.f, box = {u'nonzero_newspace_count': 270662, u'Nmax': 4000, u'newspace_count': 270662, u'embeddings': False, u'lfunctions': False, u'Nmin': 101, u'Nk_count': 13585, u'embedding_count': 2133008444L, u'Nk2max': 40000, u'Nk2min': 4001, u'kmax': 12, u'Dmin': 101, u'split': False, u'omin': 2, u'eigenvalues': False, u'nonzero_Nk_count': 13585, u'traces': False, u'straces': True}
  - 25.13.f, {u'nonzero_newspace_count': 5747, u'newspace_count': 5747, u'embeddings': False, u'lfunctions': False, u'Nmin': 25, u'Nk_count': 1475, u'embedding_count': 4564288L, u'kmin': 13, u'Nk2max': 40000, u'Nk2min': 4001, u'Dmin': 101, u'split': False, u'omin': 2, u'eigenvalues': False, u'nonzero_Nk_count': 1475, u'traces': False, u'straces': True}
+ Mismatched mf_gamma1 counts (13587 != 13585 and 1526 != 1475)
+ mf_newforms.check_embeddings_count: 23.41.d.a
+ mf_newforms.check_traces: 1.274.a.a (maybe we should disable for high weight?)

Bugs:
+ mf_newforms.check_projective_field has a bug (comparing with nf_fields numeric[] <> jsonb)
+ mf_newforms.check_self_twist_disc had a bug (fixed but not rerun)

Disabled:
+ mf_hecke_cc.check_ap2 disabled (comment out)
+ mf_hecke_cc.check_amn disabled (re-enable after adding a TABLESAMPLE clause)
+ mf_newspaces.check_sum_AL_dims disabled (re-enable and optimize)
+ mf_newforms.check_an_embedding disabled (comment out)
+ mf_newforms.check_self_dual_by_poly disabled (try re-enabling, add degree limit, use root_unitary)
+ mf_newforms.check_inner_twist_character disabled (comment out)

Expected failures:
+ (mf_newforms.check_analytic_rank_proved: 1158 failures)

Timeouts:
a  mf_gamma1.check_newspaces_hecke_orbit_dims timed out after 20980.85s
a  mf_newforms.check_analytic_rank timed out after 17433.24s
a  mf_newforms.check_analytic_rank_proved timed out after 19300.54s
a  mf_newspaces.check_hecke_orbit_dims_newforms timed out after 21080.73s
a  mf_newspaces.check_portraits_count timed out after 2050.00s
ab mf_newspaces.check_Skchi_dim_formula timed out after 3630.91s (some rows taking more than a minute)
ab mf_newspaces.check_dims timed out after 88.01s (too many rows over the slow threshold of 0.1s)
 b mf_hecke_cc.check_an_length timed out after 3698.06s
 b mf_hecke_cc.check_embedding_m timed out after 300.19s
 b mf_newforms.check_roots_are_roots timed out after 57.21s

Embedded modular form:
Change q-expansion to complex, options for 10, 100, 1000 coefficients
Related objects links to L-function, newform, newspace
Hide inner twists and Hecke kernels
Change embeddings section to "Coefficient data", flip rows and columns, display all options, button to restrict to prime rows
Make embedded label work in jump box

IMPORTANT:
* Add eg descriptions for embedding inputs (David)
* Figure out discrepancies in counts between mf_boxes and mf_gamma1 (Drew)
* Add anchor to link from L-function back to embedded modular form.  Discuss whether we should change any parts of the page for embedded modular forms (David)
* Write and run validation procedure to verify modular form data after it has been uploaded to postgres.  Figure out how to incorporate this into our long term workflow. (David, Edgar)
 - add capability to test a single form (David)
 - see https://github.com/JohnCremona/CMFs/blob/master/PostgresSchema.md for detailed list of verifications for each table
 - see scripts/verify_data.py
 - check that we have all the L-functions that we expect (Edgar)
 - check self duality -> through the number field data, embedding data, lfunction self_dual
 - check inner_twists through ap data (if feasible)
 - parallelize (Edgar)
* Add notes on provability/completeness to Artin image knowl (Drew)
* Fix the knowl mf.elliptic.lfunction: not only trivial character now so f.e. needs fixing. (Drew)
* Compute L-functions:
  - k > 200, N <= 10, Nk^2 <= 100,000 (??) waiting for Dave Platt

FINAL CHECKS:
* Make sure indexes are appropriate, especially for new sort orders (Edgar)
* Update RCS knowls to match final data set (Drew)
* Finalize announcement e-mail and PR (David)

-------------------------- Pull Request Line -------------------------------------------------
* Prove all analytic ranks (Drew)
* Add trace forms and portraits for all newspaces and gamma1 of wt k > 1 and Nk^2 <= 40000 -- currently we have everything for N <= 4000 (including wt 1) and Nk^2 <= 40000 (Drew).
* code snippets for form and space pages in Sage and Pari.
* Lift projective reps for weight one forms to artin reps whereever possible (Drew)
* add L-functions instances for Artin rep (Edgar)
* Speed up Dirichlet character search (currently doing a ton of lookup and lucky calls rather than using search() (David LD)
* Compute completions at global fields (primes dividing level), compute decomposition groups, p-adic embeddings (David)
* Add completeness table and metadata in order to make claims about provability
* Reduce clutter in the url: count, start, hidden_search_type (David)
* Prevent all=1 in cleanSubmit when no arguments from browse page.
* q-expansion bigint knowls display off screen with 100 coefficients (http://cmfs.lmfdb.xyz/ModularForm/GL2/Q/holomorphic/2/218/a/b/)
* Add related objects from Artin representations back to weight 1 forms
* Remove Future Plans page and port everything to github

CRITICAL DB:
* on a delete, if restat fails on a delete command it still commits the delete command


COLLABORATION SUGGESTIONS:
* Forms that have no zeros except at the cusps

GOOD:
* Create links to dynamics stats from each entry in the curated stats
* figure out the sort order for lfunc_lfunctions
* merge L-function data of G2C, EC, ECNF with CMF using trace_hash
* knowls: make sure top and bottom knowls, explicit formulas are ported over
* knowl: add remark to sturm_bound knowl for why our sturm bound is off by 1 from Sage (floor vs ceiling)
* data: download data from old version and compare to see matches (at least with traces) and identify other problems

IT WOULD BE NICE IF:
* add inner twist data for all newforms (compute using embedding data)
* add inner twist group structures
* use linear hecke kernels (potentially much faster than our current hecke cutters)
* search on character degree?
* if hecke field is cyclotomic don't use \zeta_3 (why not?)
* show AL dimensions for old forms as well as new
* identify (if possible?) a more precise description of the twisting characters
* form pages: provide downloads for pari
* In the link back from an L-function to a modular form, preserve the L-function URL

FUTURE WORK:
* data: for spaces where we do not compute an algebraic q-expansion, still give the first few Hecke polynomials
* data: compute much more using pari
* Review editorial review of CMFs to make sure issues have been addressed
* data: add trace hash for ECNF L-fun
* data: make friends with base changes of HMFs and BMFs
* Add more data, in particular for weight 2 and trivial character
* data: add data for is_twist_minimal
* Improve modular form plots, consider plotting images using arb

NOT CMF STUFF:
* add documentation for set_sort
* list the analytic conductor on the L-function pages
* remove non-existent instances from lfunc_instances and perhaps stop checking if they exists in names_and_urls
* convert 1.1 projection to 1 in _parse_projection?
* cache queries on gps_transitive?
* rewrite code Dirichlet series, in particular use bigint knowls in the arithmetic version
* convert other columns to arrays, as GIN indexes for jsonb only supports containment, try: db.nf_fields.analyze({'ramps':{'$contains':[2,3]}}) vs db.nf_fields.analyze({'ramps':[2,3]}) vs db.nf_fields.analyze({'ramps':{'$in':[2,3]}})
* copy_from and update_many see: https://stackoverflow.com/questions/8910494/how-to-update-selected-rows-with-values-from-a-csv-file-in-postgres
* have the call method on a table to do just a search
* reset start with javascript
* generalize search_types
* hidden != search clean hidden
* add utf8 check to pyflakes
* pick columns and sort order on search results
* add UIs to pick random objects with contraints
* bread for maass forms looks dumb http://127.0.0.1:37777/L/ModularForm/GSp4/Q/Maass/1/1/12.46875_4.720951/1.34260324/#footer
* http://127.0.0.1:37777/L/ModularForm/GSp4/Q/Maass/1/1/12.46875_4.720951/1.34260324/#footer should explain why it is the grand canyon l-function, there is a knowl for this but after some renaming of maass forms it doesn't show on the page!
* fix hmf and bmf l-functions
* Shrink the sidebar with a button analogous to the properties shrinker
* Related fields for dirichlet characters that are Kronecker symbols
* Change color of input/select elements if they're actively constraining a search (easy to forget that you've constrained something)
* col_type is cached, add to FAQ
* Work on spacing between coefficients and variables in web_latex_poly: lmfdb/utils.py
* avoid access exclusive lock with the alter table when using copy from
* checklist is broken
* Add validate_header function for copy_from, reload, etc (David)
* Add replace_from, copy_to+copy_from (with sort order) function to db_backend (David)
* In debug_info.html, queries with dollar signs aren't escaped, and katex tries to parse them.
* No longer support changing count from refine search elsewhere in LMFDB (it screws up Prev and Next)
* Move data from US Central to US East Coast
* It would be good to have an explanation of the connections in the "related objects" links when possible
* Complex and rational extension types for postgres
* In create_table, make label unique and add index; port to existing tables (David)
* Rename mf.elliptic.hecke-operator mf.elliptic.trace-expansion, and other knowls with hyphens.  Create script to search and replace hyphens.
* LMFDB-wide: download link to get all data being used to generate page (see Download All Stored Data on elliptic curves)
* LMFDB-wide: equal signs consistent in terms of math-mode or not
* LMFDB-wide: change sort order in search results
* Saved queries for demos (cf checklist)
* Do restats in different order (compute all counts then upload), and wipe counts if too many
* Add indexes on counts and stats tables

Style:
* For the moment we use scientific notation for the Dirichlet coefficients if the integers or fractions take too much space. This is not a CMF issue
* For the imaginary parts that end in ".", I added a space between them and the "i". See http://cmfs.lmfdb.xyz/L/ModularForm/GL2/Q/holomorphic/7/5/d/a/5/1/ . This is not a CMF issue

TO THINK ABOUT:
* Are there good reasons for why traces are often zero for many small primes (e.g. 60.2.j)

ISSUES todo:
Ask David Farmer if he wants to reopen #59

ISSUES already addressed:
- Weight 1 cusp forms #437
- L-functions for modular forms should be in database #439
- Data quality for classical modular forms #460
- Dual L-function #617
- Make user adjust Fourier coefficient embeddings #653
- Make pretty coefficients #654
- Create separate page for each embedding of a newform #659
- Table options for old/new/CM #674
- Determine planned extent of classical modular forms #873
- Source and extent of data for classical modular forms #1224
- For imprimitive genus 2 L-functions, give links to factors #1227
- Fix errors in classical modular form data and verify its correctness #1248
- Tests for lcalc files #1257
- Modular form history #1282 (we decided not to link it)
- Search by analytic rank #1362
- Plots of modular forms #1408
- Random modular form #1434
- Product L-functions for modular forms #1443
- Sever error on classical modular form pages #1533
- Resource intensive L-function zeros pages for classical modular forms #1680
- Classical modular forms Gamma1(49) weight 3 #1991
- Add Bober's modular form data #2196
- no data for level = 100, k 7, chi = 99 #2340
- Request for documentation on modular form web pages #2630
- Hecke operators, cosets in subset not subgroup #2631
- Debounce knowl clicking #2687 (this is a PR, that we closed)

Some progress on:
- David Platt's L-function zeros #557 (this issue is a bit too vague to understand when is going to be closed)
- L-functions and modularity #2032
- Search on a_pp #2134
- Galois conjugate objects: Hilbert, Bianchi, EC #2262
- Display the L-function factors #2269

