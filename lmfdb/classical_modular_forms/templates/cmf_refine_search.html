{% extends 'homepage.html' %}

{% block content %}

<h2>Refine search </h2>

<form id="re-search" onsubmit="cleanSubmit(this.id)">
<input type="hidden" name="start" value="{{info.start}}"/>
<input type="hidden" name="count" value="{{info.count}}"/>
<input type="hidden" name="search_type" value="{{info.search_type}}"/>

<table>
  <tr>
    <td><div class="float-left">{{ KNOWL('mf.elliptic.weight', title='Weight') }}</div>
      <div class="float-right"><select name="weight_parity" class="simult_select" onchange="simult_change(event);">
        <option></option>
        <option value="even"{{ "selected" if info.weight_parity == 'even'}}>even</option>
        <option value="odd"{{ "selected" if info.weight_parity == 'odd'}}>odd</option>
      </select></div>
    </td>
    <td>{{ KNOWL('mf.elliptic.level', title='Level') }}</td>
    <td>{{ KNOWL('mf.elliptic.dimension', title='Dimension') }}</td>
    <td>{{ KNOWL('mf.elliptic.coefficient_field', title='Coefficient field') }}</td>
    <td>{{ KNOWL('mf.elliptic.analytic_conductor', title='Analytic conductor') }}</td>
  </tr>

  <tr>
    <td><input type='text' style="width: 140px;" name='weight' placeholder='2' value='{{info.weight}}'></td>
    <td><input type='text' style="width: 140px;" name='level' placeholder='4' value='{{info.level}}'></td>
    <td><input type='text' style="width: 140px;" name='dim' placeholder='1' value='{{info.dim}}'></td>
    <td><input type='text' style="width: 140px;" name='nf_label' placeholder='1.1.1.1' value='{{info.nf_label}}'></td>
    <td><input type='text' style="width: 140px;" name='analytic_conductor' placeholder='47' value='{{info.analytic_conductor}}'></td>
  </tr>

  <tr>
    <td><div class="float-left">{{ KNOWL('mf.elliptic.character', title='Character') }}</div>
      <div class="float-right"><select name="weight_parity" class="simult_select" onchange="simult_change(event);">
        <option></option>
        <option value="even"{{ "selected" if info.char_parity == 'even'}}>even</option>
        <option value="odd"{{ "selected" if info.char_parity == 'odd'}}>odd</option>
      </select></div>
    </td>
    <td>{{ KNOWL('character.dirichlet.primitive', title='Primitive character') }}</td>
    <td>{{ KNOWL('character.dirichlet.order', title='Character order') }}</td>
    <td>{{ KNOWL('character.dirichlet.real', title='Character is real?') }}</td>
    <td>{{ KNOWL('mf.elliptic.analytic_rank', title='Analytic rank') }}</td>
  </tr>

  <tr>
    <td><input type='text' style="width: 140px;" name='char_label' placeholder='20.d' value='{{info.char_label}}'></td>
    <td><input type='text' style="width: 140px;" name='prim_label' placeholder='1.a' value='{{info.prim_label}}'></td>
    <td><input type='text' style="width: 140px;" name='char_order' placeholder='1' value='{{info.char_order}}'></td>
    <td>
      <select name='char_is_real' style="width: 150px;">
	<option ></option>
	<option value='True'{{ "selected" if info.char_is_real == 'True'}}>Yes</option>
	<option value='False'{{ "selected" if info.char_is_real == 'False'}}>No</option>
      </select>
    </td>
    <td><input type='text' style="width: 140px;" name='analytic_rank' placeholder='1' value='{{info.analytic_rank}}'></td>
  </tr>

  <tr>
    <td>{{ KNOWL('mf.elliptic.cm_form', title='CM discriminant')}}</td>
    <td>{{ KNOWL('mf.elliptic.cm_form', title='CM form') }}</td>
    {# <td>{{ KNOWL('mf.elliptic.minimal', title='Twist minimal') }}</td> #}
    <td>{{ KNOWL('mf.elliptic.inner_twist', title='Has inner twist') }}</td>
  </tr>

  <tr>
    <td><input type='text' style="width: 140px" name='cm_disc' placeholder='-3' value='{{info.cm_disc}}'></td>
    <td>
      <select name='is_cm' style="width: 150px;">
        <option value="" {{ "selected" if info.is_cm == ''}}>unrestricted</option>
        <option value="yes" {{ "selected" if info.is_cm == 'yes'}}>yes</option>
        <option value="not_no" {{ "selected" if info.is_cm == 'not_no'}}>yes or unknown</option>
        <option value="not_yes" {{ "selected" if info.is_cm == 'not_yes'}}>no or unknown</option>
        <option value="no" {{ "selected" if info.is_cm == 'no'}}>no</option>
      </select>
    </td>
    {#
    <td>
      <select name='is_twist_minimal' style="width: 150px;">
	<option></option>
	<option value="True" {{ "selected" if info.is_twist_minimal == 'True'}}>True</option>
	<option value="False" {{ "selected" if info.is_twist_minimal == 'False'}}>False</option>
      </select>
    </td>
    #}
    <td>
      <select name='has_inner_twist' style="width: 150px;">
        <option value="" {{ "selected" if info.has_inner_twist == ''}}>unrestricted</option>
        <option value="yes" {{ "selected" if info.has_inner_twist == 'yes'}}>yes</option>
        <option value="not_no" {{ "selected" if info.has_inner_twist == 'not_no'}}>yes or unknown</option>
        <option value="not_yes" {{ "selected" if info.has_inner_twist == 'not_yes'}}>no or unknown</option>
        <option value="no" {{ "selected" if info.has_inner_twist == 'no'}}>no</option>
      </select>
    </td>
  </tr>
  <tr>
  </tr>
  <tr>
  </tr>
  <tr style="height:50px">
    <td class="button"><button type='submit' name='submit_again' value='refine' style="width: 110px">Search again</button></td>
  </tr>
</table>
</form>

{% block show_results %}{% endblock %}
{% include 'debug_info.html' %}

{% endblock %}
