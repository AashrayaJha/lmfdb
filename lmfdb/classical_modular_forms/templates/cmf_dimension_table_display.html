{% set has_na = [] %}
{% for X in info.cusp_types %}
{% for typ in info.newness_types %}
<table class="ntdata table_hidable table_{{X}}{{typ}}{% if X!='S' or typ!='new' %} nodisplay{% endif %}">
  <thead>
    <tr class="space">
      <th class="spaceleft">Weight</th>
      <th class="level" colspan="{{info.level_list|length}}">
        <span style="display:block;float:left;margin-right:3px;">Level \(N\)</span>
      </th>
    </tr>
    <tr class="space">
      <th class="spaceleft"></th>
      {% for N in info.level_list %}
      <th class="center">{{N}}</th>
      {% endfor %}
    </tr>
  </thead>
  <tbody>
    {% for k in info.weight_list %}
    <tr>
      <th class="left">{{k}}</th>
      {% for N in info.level_list %}
      <td class="center">
        {% if info.has_data(N, k) %}
        {% if X=='S' and typ=='new' %}
        <a href="{{ info.url_generator(N, k) }}">{{ info.pick_table(info.results[N,k],X,typ) }}</a>
        {% else %}
        {{ info.pick_table(info.results[N,k],X,typ) }}
        {% endif %} {# X=='S' and typ=='new' #}
        {% else %}
        {% if not has_na %}
        {% do has_na.append(1) %}
        {% endif %}
        <small style="color:gray">n/a</small>
        {% endif %}
      </td>
      {% endfor %}
    </tr>
    {% endfor %}
  </tbody>
</table>
{% endfor %}
{% endfor %}
{% if has_na %}
<p>
  {{ info.na_msg }}
</p>
{% endif %}
