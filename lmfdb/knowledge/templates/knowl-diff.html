{% extends "homepage.html" %}

  {% include "mergely.html" %}

{% block content %}

<script type="text/javascript">
$(document).ready(function () {
      var comp = $('#compare');
			comp.mergely({
        license: 'gpl-separate-notice',
				cmsettings: {
					readOnly: false,
          linewrap: true,
          viewportMargin: 500,
				},
        lineNumbers: true,
        wrap_lines: true,
        width: 'auto',
        height: 'calc(100% - 40px)'
        /*
				lhs: function(setValue) {
					setValue('the quick red fox\njumped over the hairy dog');
				},
				rhs: function(setValue) {
					setValue('the ada quick brown fox\njumped over the lazy dog');
        }
        */
			});
      $.ajax({
      type: 'GET', async: true, dataType: 'text',
        url: '/knowledge/content/cmf/1545201145469776',
        success: function (response) {
      $('#compare').mergely('lhs', response);
    }
    });
      $.ajax({
      type: 'GET', async: true, dataType: 'text',
        url: '/knowledge/content/cmf',
        success: function (response) {
      $('#compare').mergely('rhs', response);
    }
    });
	});
</script>
<style>
/* Initial height */
.diff {
  overflow: hidden;
  resize: vertical;
  padding: 20px;
  height: 500px;
}
/* Auto-height fix */
 .mergely-column .CodeMirror {
    height: auto;
}
</style>


<div class="diff">
  <div id="compare"></div>
</div>

{% endblock %}


