<script type="text/javascript" src="{{ url_for('static', filename='knowl_history.js') }}"></script>
<script type="text/javascript">
$("body").on("fakeclick", "[knowl]", knowl_handle);
$(function() {
  $("body").on("click", ".expand_button", clickall);
  $("body").on("click", ".hide_button", hideall);
  $("body").on("click", ".show_button", showall);
  $("body").on("click", ".revert_button", revert_to_version);
});

</script>

<strong>History:</strong>
<a href="#" class="expand_button">(expand/hide all)</a>
<ul class="history">
  {% for elt in k.edit_history|reverse %}
    <li>
      {{ KNOWL(k.id, title=((elt.timestamp|fmtdatetime)|string) + " by " + (elt.author_full_name|string), timestamp=elt.ms_timestamp)}}
      {% if elt.status == 1 %}
        (Reviewed)
      {% endif %}
      {% if k.editing %}
        &middot; <a href="#" class="revert_button" ms_timestamp="{{elt.ms_timestamp}}">Revert</a>
      {% endif %}
    </li>
  {% endfor %}
</ul>

