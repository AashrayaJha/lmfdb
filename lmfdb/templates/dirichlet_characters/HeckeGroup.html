{% extends 'homepage.html' %}

{% block content %}

<script>
var cur_system = null;
function show_code(system) {
    $('.sage').hide();
    $('.pari').hide();
    $('.magma').hide();
    if (cur_system == null) {
      $('.'+system).show();
      cur_system = system;
    } else {
      $('.'+system).hide();
      cur_system = null;
    }
}
</script>

<style>
.output {
    padding:20px 0 20px 100px;
    text-align: left;
    font-size: 115%;
}
table.navi td {
    padding: 0;
}
table.props tr td:first-child {
    width: 5em;
}
#content p, #content form, #content div {
    margin-left: 20px;
}

</style>
        <div align="right">
            <font size="3">Show commands for:</font>
            <a onclick="show_code('sage'); return false" href='#'>sage</a>
        </div>
 
        <div class='sage nodisplay code'>
          sage: k.&lt;a&gt; = NumberField({{poly}})
          sage: H = RayClassGroup(k, {{modulus}}).dual_group()
        </div>

        <ul>
          <li> $K$ is the global number field {{ nflabel }} defined by {{ nf_pol }}</li>
          <li> $f$ is the ideal generated by \({{ modulus }}\)</li>
        </ul>
        
        {# Ray class group #}
        <h2>
            {{ KNOWL('character.ray_class_group', title="Ray class group") }}
        </h2>

        <table class="props">
          <tr>
                <td>
                    <span class='sage nodisplay code'>sage: H.order()</span>
                </td>
            </tr>
            <tr>
                <td>Ordre</td>
                <td>=</td>
                <td>\({{ order }}\)</td>
            </tr>
            <tr>
                <td>
                    <span class='sage nodisplay code'>sage: H.invariants()</span>
                </td>
            </tr>
            <tr>
                <td>Structure</td>
                <td>=</td>
                <td>\({{ structure }}\)</td>
            </tr>
            <tr>
                <td>
                    <span class='sage nodisplay code'>sage: chi.order()</span>
                </td>
            </tr>
            <tr>
                <td> Generators </td>
                <td>=</td>
                <td>\({{ generators }} \)</td>
            </tr>
                    
        </table>

        {# Characters #}

    <table class="ntdata" id="chitable">
    <thead class="space">
        <tr class="space">
            <th class="spaceleft"></th>
            <th class="weight" colspan="{{headers|length}}">
            <span style="display:block;float:left;margin-right:3px;"> Values </span>
        </tr>
        <tr> 
        <th class="left"> </th>
        {% for h in headers %}
        <th class="weight">{{h}} </th> 
        {% endfor %}
        </tr>
    </thead>
    <tbody>
        {% for row in contents %}
        {# row = ( label, tex, order, primitive ) #}
        <tr>
                <th class="left">
                  <a class="{% if row[4]=='Yes' -%}primitive{%- else -%}imprimitive{%- endif %}"
                     align="center" href="{{modlabel}}/{{row[1]}}">
                    {{row[2] }}
                  </a>
                </th>
                <td style="font-family: serif;" >{{row[3]}}</td> 
                <td style="font-family: serif;" >{{row[4]}}</td> 
                </tr>
        {% endfor %} 
    </tbody>    
</table>

{% endblock %}

