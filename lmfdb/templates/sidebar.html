{%- include "sidebar.css" -%}

<div id="sidebar">
{% for key, heading, value in sidebar.data %}
{{heading | safe}}


{% if value.type == 'L' %}

<div class="L">
<span class="heading">{{value.firstpart.heading}}</span>
{% for item in value.firstpart.entries %}
<span class="L">{{item.url | safe}}</span>
{% endfor %}
</div>
<table class="short">
<tr>
{% for item in value.secondpart.parts %}
<td>{{item.url | safe}}
</td>{% if loop.index is even -%}</tr><tr>{%- endif %}
{% endfor %}</tr>
</table>



{% elif value.type == 'multilevel' %}

<table class="short">
{% for entry in value.parts %}
{% if loop.index is even -%}
<tr bgcolor="#fff">
{% else %}
<tr> {# want alternating colours here #}
{%- endif %}
{% if entry.style == "rotate" %}
<td width="40" class="borc rotation"><p class="test rotation">
{% elif entry.style == "full" %}
<td scope="col" colspan="2" class="full">
{% else %}
<td class="borc"><p>
{% endif %}
{{ entry.url | safe }}
</p></td><td class="bor">
{% if entry.part2 %}
<ul class="list">
{% for pt2 in entry.part2 %}
<li>
<span class="subtitle">{{ pt2.url | safe }}</span>
{% if pt2.parts %}
<div class="parts">
{% for it2 in pt2.parts %}
<span class="subitem">{{ it2.url | safe}}</span>
{% endfor %}
</div>
{% endif %} {# if parts in pt2 #}
</li>
{% endfor %} {# for pt2 #}
</ul>
{% endif %} {# if part2 in entry #}
</td>
</tr>
{% endfor %} {# for entry #}
</table>



{% elif value.type == 'simple' %}

<table class="short">
<tr>
{% for entry in value.parts %}
<td scope="col" width="50%">{{entry.url | safe}}
{% if entry.part2 %}
<td scope="col" width="30%">
{% for pt2 in entry.part2 %}
<span class="subtitle">{{ pt2.url | safe }}</span>
{% if pt2.parts %}
<div class="parts">
{% for it2 in pt2.parts %}
<span class="subitem">{{ it2.url | safe}}</span>
{% endfor %}</div>
{% endif %} {# if parts in pt2 #}
{% endfor %} {# for pt2 #}
</td>{% if loop.index0 is even -%}</tr><tr>{%- endif %}{% endif %}
{% if loop.index is even -%}</tr><tr>{%- endif %}
{% endfor %}
</tr>
</table>


{% elif value.type == 'single' %}
{# nothing needs doing #}


{% endif %} {# branch on type #}
{% endfor %} {# loop over main headings #}

</div>

