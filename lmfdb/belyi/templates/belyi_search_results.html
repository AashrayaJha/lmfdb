{% extends 'homepage.html' %}
{% block content %}

<h2>Refine search </h2>

<form id="re-search" onsubmit="cleanSubmit(this.id)">
<input type="hidden" name="start" value="{{info.start}}"/>
<input type="hidden" name="count" value="{{info.count}}"/>

<table>
<td>{{ KNOWL('belyi.group', title='group') }}</td>
<td>{{ KNOWL('belyi.abc', title='abc') }}</td>
<td>{{ KNOWL('belyi.g', title='genus') }}</td>
</tr>

<tr>
<td><input type='text' name='group' placeholder='4T5' style="width: 100px" value="{{info.group}}"></td>
<td><input type='text' name='abc' placeholder='[4,4,3]' style="width: 100px" value="{{info.abc}}"></td>
<td><input type='text' name='g' placeholder='1' style="width: 100px" value="{{info.g}}"></td>
</tr>

<tr style="height:50px">
<td class="button"><button type='submit' value='refine' style="width: 110px">Search again</button></td>
<td align=left colspan="7">
<input type="hidden" name="query" value="{{info.query}}"/>
Download all search results for&nbsp;
<button type="submit" name="download" value="gp">Pari/GP</button>&nbsp;
<button type="submit" name="download" value="sage">SageMath</button>&nbsp;
<button type="submit" name="download" value="magma">Magma</button>&nbsp;
</td>
</tr>

</table>
</form>

{% if info.err is not defined %}

<h2> Results ({{info.report}})&nbsp;
{% if info.start > 0 %}
<a href="#" class="navlink" onclick="decrease_start_by_count_and_submit_form('re-search');return false">Previous</A>
{% endif %}
{% if info.more > 0 %}
<a href="#" class="navlink" onclick="increase_start_by_count_and_submit_form('re-search');return false">Next</A>
{% endif %}
</h2>

<table class="ntdata">
<tr>
    <th>{{ KNOWL('belyi.label', title='Label') }}</th>
    <th>{{ KNOWL('belyi.group', title='Group') }}</th>
    <th>{{ KNOWL('belyi.g', title='Genus') }}</th>
</tr>
{% for galmap in info.belyi_galmaps: %}
<tr>
    <td> <a href = "{{info.belyi_galmap_url(galmap.label)}}"> {{galmap.label}} </a> </td>
    <td align=center> {{galmap.group}} </td>
    <td align=center> {{galmap.g}} </td>
</tr>
{% endfor %}
</table>

{% if info.start > 0 %}
<a href="#" class="navlink" onclick="decrease_start_by_count_and_submit_form('re-search');return false">Previous</A>
{% endif %}
{% if info.more > 0 %}
<a href="#" class="navlink" onclick="increase_start_by_count_and_submit_form('re-search');return false">Next</A>
{% endif %}

<form>
<input type="hidden" name="query" value="{{info.query}}"/>
Download all search results for&nbsp;
<button type="submit" name="download" value="gp">Pari/GP</button>&nbsp;
<button type="submit" name="download" value="sage">SageMath</button>&nbsp;
<button type="submit" name="download" value="magma">Magma</button>&nbsp;
</form>

{% endif %}

{% endblock %}
