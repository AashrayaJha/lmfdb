{% extends 'homepage.html' %}
{% block content %}

{% set max_cols = 10 %}
{% set genus_detail = info.by_genus_data %}

{#
{% set dim_detail = info.stats.dim_detail %}
#}

<style>
table.ntdata th.center {
  text-align: center;
}

table.ntdata td {
  text-align: center;
}
</style>

<div>
  <p>
    {{info.summary | safe}}
  </p>
</div>

<h2> Distribution by genus </h2>
{% for i in range(0, genus_detail | length, max_cols) %}
<div>
  <table border=0 cellpadding=3 class="ntdata">
    <thead>
      <tr>
        <th>Genus</th>
        {% for genus in genus_detail[i:i+max_cols] %}
        <th class="center">
          <a href={{ url_for('.index', genus=genus.genus_num)}}>{{genus.genus_num}}</a>
        </th>
        {% endfor %}
      </tr>
    </thead>
    <tbody>
      <tr>
        <th>distinct families</th>
        {% for genus in genus_detail[i:i+max_cols] %}
        <td>{{genus.num_families[0]}}</td>
        {% endfor %}
      </tr>
      <tr>
        <th>distinct refined passports</th>
        {% for genus in genus_detail[i:i+max_cols] %}
        <td>{{genus.num_refined_pp[0]}}</td>
        {% endfor %}
      </tr>
      <tr>
        <th>distinct generating vectors</th>
        {% for genus in genus_detail[i:i+max_cols] %}
        <td>
          {{genus.num_gen_vectors[0]}}
        </td>
        {% endfor %}
      </tr>
      <tr>
        <th>unique groups</th>
        {% for genus in genus_detail[i:i+max_cols] %}
        <td>
          <a href={{ url_for('.groups_per_genus', genus=genus.genus_num) }}>{{genus.num_unique_groups}}</a>
        </td>
        {% endfor %}
      </tr>
      <tr>
        <th>maximum group order</th>
        {% for genus in genus_detail[i:i+max_cols] %}
        <td>
	   <a href={{ url_for('.index', genus=genus.genus_num, group_order=genus.max_grp_order)}}>{{genus.max_grp_order}}</a>
        </td>
        {% endfor %}
      </tr>
    </tbody>
  </table>
</div>
{% endfor %}


<h2>Distinct families by genus and quotient genus</h2>
<table class="ntdata">
  <thead>
    <tr class="space">
      <th class="spaceleft">Quotient</th>
      <th class="level center" colspan="{{genus_detail | length}}">Genus</th>
    </tr>
    <tr class="space">
      <th class="spaceleft">Genus</th>
      {% for i in range(0, genus_detail | length) %}
      <th class="level">{{2 + i}}</th>
      {% endfor %}
    </tr>
  </thead>
  <tbody>
    {% for g0 in range(0, info.g0_max + 1) %}
    <tr>
      <th class="left">{{g0}}</th>
      {% for j in range(0, genus_detail | length) %}
      {% set genus = 2 + j %}
      {% set index = g0 + 1 %}
      <td class="center">
        {% if (g0 > (genus / 2) | round(0, 'ceil') | int) %}
        -
        {% elif (index >= genus_detail[j].num_families | length) %}
        -
        {% else %}
        {{genus_detail[j].num_families[index]}}
        {% endif %}
      </td>
      {% endfor %}
    </tr>
    {% endfor %}
  </tbody>
</table>

<h2>Distinct refined passports by genus and quotient genus</h2>
<table class="ntdata">
  <thead>
    <tr class="space">
      <th class="spaceleft">Quotient</th>
      <th class="level center" colspan="{{genus_detail | length}}">Genus</th>
    </tr>
    <tr class="space">
      <th class="spaceleft">Genus</th>
      {% for i in range(0, genus_detail | length) %}
      <th class="level">{{2 + i}}</th>
      {% endfor %}
    </tr>
  </thead>
  <tbody>
    {% for g0 in range(0, info.g0_max + 1) %}
    <tr>
      <th class="left">{{g0}}</th>
      {% for j in range(0, genus_detail | length) %}
      {% set genus = 2 + j %}
      {% set index = g0 + 1 %}
      <td class="center">
        {% if (g0 > (genus / 2) | round(0, 'ceil') | int) %}
        -
        {% elif (index >= genus_detail[j].num_families | length) %}
        -
        {% else %}
        {{genus_detail[j].num_refined_pp[index]}}
        {% endif %}
      </td>
      {% endfor %}
    </tr>
    {% endfor %}
  </tbody>
</table>

<h2>Distinct generating vectors by genus and quotient genus</h2>
<table class="ntdata">
  <thead>
    <tr class="space">
      <th class="spaceleft">Quotient</th>
      <th class="level center" colspan="{{genus_detail | length}}">Genus</th>
    </tr>
    <tr class="space">
      <th class="spaceleft">Genus</th>
      {% for i in range(0, genus_detail | length) %}
      <th class="level">{{2 + i}}</th>
      {% endfor %}
    </tr>
  </thead>
  <tbody>
    {% for g0 in range(0, info.g0_max + 1) %}
    <tr>
      <th class="left">{{g0}}</th>
      {% for j in range(0, genus_detail | length) %}
      {% set genus = 2 + j %}
      {% set index = g0 + 1 %}
      <td class="center">
        {% if (g0 > (genus / 2) | round(0, 'ceil') | int) %}
        -
        {% elif (index >= genus_detail[j].num_families | length) %}
        -
        {% else %}
        {{genus_detail[j].num_gen_vectors[index]}}
        {% endif %}
      </td>
      {% endfor %}
    </tr>
    {% endfor %}
  </tbody>
</table>

{# Commented out
<h2>Distinct groups by genus and quotient genus</h2>
<table class="ntdata">
  <thead>
    <tr class="space">
      <th class="spaceleft">Quotient</th>
      <th class="level" colspan="{{genus_detail | length}}">Genus</th>
    </tr>
    <tr class="space">
      <th class="spaceleft">Genus</th>
      {% for i in range(0, genus_detail | length) %}
      <th class="level">{{bounds.genus_min + i}}</th>
      {% endfor %}
    </tr>
  </thead>
  <tbody>
    {% for g0 in range(bounds.g0_min, bounds.g0_max + 1) %}
    <tr>
      <th class="left">{{g0}}</th>
      {% for j in range(0, genus_detail | length) %}
      {% set genus = bounds.genus_min + j %}
      <td class="center">
        {% if (g0 > (genus / 2) | round(0, 'ceil') | int) or (genus >=5 and g0 >= 1) %}
        -
        {% else %}
        {{genus_detail[j].g0_counts.groups[g0]}}
        {% endif %}
      </td>
      {% endfor %}
    </tr>
    {% endfor %}
  </tbody>
</table>

<h2>Distinct topological orbits by genus and quotient genus</h2>
<table class="ntdata">
  <thead>
    <tr class="space">
      <th class="spaceleft">Quotient</th>
      <th class="level" colspan="{{genus_detail | length}}">Genus</th>
    </tr>
    <tr class="space">
      <th class="spaceleft">Genus</th>
      {% for i in range(0, genus_detail | length) %}
      <th class="level">{{bounds.genus_min + i}}</th>
      {% endfor %}
    </tr>
  </thead>
  <tbody>
    {% for g0 in range(bounds.g0_min, bounds.g0_max + 1) %}
    <tr>
      <th class="left">{{g0}}</th>
      {% for j in range(0, genus_detail | length) %}
      {% set genus = bounds.genus_min + j %}
      <td class="center">
        {% if (g0 > (genus / 2) | round(0, 'ceil') | int) or (genus >=5 and g0 >= 1) %}
        -
        {% else %}
        {{genus_detail[j].g0_counts.topologicals[g0]}}
        {% endif %}
      </td>
      {% endfor %}
    </tr>
    {% endfor %}
  </tbody>
</table>

<h2>Distinct braid orbits by genus and quotient genus</h2>
<table class="ntdata">
  <thead>
    <tr class="space">
      <th class="spaceleft">Quotient</th>
      <th class="level" colspan="{{genus_detail | length}}">Genus</th>
    </tr>
    <tr class="space">
      <th class="spaceleft">Genus</th>
      {% for i in range(0, genus_detail | length) %}
      <th class="level">{{bounds.genus_min + i}}</th>
      {% endfor %}
    </tr>
  </thead>
  <tbody>
    {% for g0 in range(bounds.g0_min, bounds.g0_max + 1) %}
    <tr>
      <th class="left">{{g0}}</th>
      {% for j in range(0, genus_detail | length) %}
      {% set genus = bounds.genus_min + j %}
      <td class="center">
        {% if (g0 > (genus / 2) | round(0, 'ceil') | int) or (genus >=5 and g0 >= 1) %}
        -
        {% else %}
        {{genus_detail[j].g0_counts.braids[g0]}}
        {% endif %}
      </td>
      {% endfor %}
    </tr>
    {% endfor %}
  </tbody>
</table>
#}


{# Taken from display_stats.html #}
{% for d in info.distributions %}

{% if d.attribute.top_title %}
<h2 id="{{d.attribute.hash}}-anchor"> Distribution of {{ d.attribute.top_title | safe }}</h2>
{% endif %}
{% for paragraph in d.attribute.intro %}
<p>{{paragraph}}</p>
{% endfor %}


{% if (d.attribute.cols | length) == 1 %}
{% include 'stat_1d.html' %}
{% else %}
{% include 'stat_2d.html' %}
{% endif %}

{% endfor %}


{#
<h2> Distribution by dimension </h2>
{% for i in range(0, dim_detail | length, max_cols) %}
<div>
  <table border=0 cellpadding=3 class="ntdata">
    <thead>
      <tr>
        <th>Dimension</th>
        {% for dim in dim_detail[i:i+max_cols] %}
        <th class="center">{{dim.dim_num}}</th>
        {% endfor %}
      </tr>
    </thead>
    <tbody>
      <tr>
        <th>distinct generating vectors</th>
        {% for dim in dim_detail[i:i+max_cols] %}
        <td>{{dim.gen_vectors}}</td>
        {% endfor %}
      </tr>
    </tbody>
  </table>
</div>
{% endfor %}
#}


{% endblock %}
