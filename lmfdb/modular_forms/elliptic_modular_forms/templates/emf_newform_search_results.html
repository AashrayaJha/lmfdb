{% extends 'homepage.html' %}

{% block content %}

<h2>Refine search </h2>

<form id="re-search" onsubmit="cleanSubmit(this.id)">
<input type="hidden" name="start" value="{{info.start}}"/>
<input type="hidden" name="count" value="{{info.count}}"/>

<table>
<td>{{ KNOWL('mf.elliptic.level', title='level')}}</td>
<td>{{ KNOWL('mf.elliptic.weight', title='weight') }}</td>
<td>{{ KNOWL('mf.elliptic.hecke-orbit', title='hecke orbit dimension') }}</td>
<td>{{ KNOWL('mf.elliptic.', title='coefficient field')}}</td>
</tr>

<tr>
<td><input type='text' name='level' placeholder='10' style="width: 100px" value="{{info.level}}"></td>
<td><input type='text' name='weight' placeholder='4' style="width: 100px" value="{{info.weight}}"></td>
<td><input type='text' name='dim' placeholder='1'  style="width: 100px" value="{{info.dim}}">
<td><input type='text' name='nf_label' placeholder='1.1.1.1'  style="width: 100px" value="{{info.nf_label}}">
</tr>

<tr style="height:50px">
<td class="button"><button type='submit' value='refine' style="width: 110px">Search again</button></td>
<td align=left colspan="7">
<input type="hidden" name="query" value="{{info.query}}"/>
Download all search results for&nbsp;
<button type="submit" name="download" value="gp">Pari/GP</button>&nbsp;
<button type="submit" name="download" value="sage">SageMath</button>&nbsp;
<button type="submit" name="download" value="magma">Magma</button>&nbsp;
</td>
</tr>

</table>
</form>

{% include 'matches.html' %}
{% if info.number %}

{% include 'emf_newform_list.html' %}

{% include 'forward_back.html' %}
{% include 'download_search_results.html' %}
{% endif %}
{% include 'debug_info.html' %}

<!-- Debugging! -->
{% if DEBUG %}
<hr>
<div>
Info was: {{info}}
</div>
{% endif %}

{% endblock %}
